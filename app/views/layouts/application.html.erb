<!DOCTYPE html>
<html>
  <head>
    <title>Cadê Buffet?</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application" %>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

  </head>

  <body>
    <header>
      <h1><%= link_to 'Cadê Buffet', root_path %></h1>
      <nav>
        <% if user_signed_in? %>
          <%= current_user.email %> | <%= User.model_name.human %> 
          <%= button_to 'Sair', destroy_user_session_path, method: :delete %>
        <% elsif owner_signed_in? %>
          <% unless current_owner.buffet == nil || !@buffet.valid? %>
            <h3><%= link_to 'Meu Buffet', @buffet %></h3>
          <% end%>
            <div>
            <%= current_owner.email %> | <%= Owner.model_name.human %> 
            </div>
            <div>
            <%= button_to 'Sair', destroy_owner_session_path, method: :delete %>
            </div>
        <% else %>
          <% unless request.path == home_choice_path %>
            <%= link_to 'Entrar', home_choice_path %>
          <% end %>
        <% end %>
      </nav>
    </header>
    <main>
      <div>
        <p class="notice"><%= notice %></p>
        <p class="alert"><%= alert %></p>
      </div>
      <%= yield %>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>
